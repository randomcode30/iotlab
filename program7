#include <Wire.h>

#define MPU_ADDR 0x68

void setup() {
  Serial.begin(9600);
  Wire.begin();

  Wire.beginTransmission(MPU_ADDR);
  Wire.write(0x6B);
  Wire.write(0);
  Wire.endTransmission(true);

  Serial.println("MPU6050 Ready...");
}

void loop() {
  int16_t AcX, AcY, AcZ;

  Wire.beginTransmission(MPU_ADDR);
  Wire.write(0x3B);
  Wire.endTransmission(false);
  Wire.requestFrom(MPU_ADDR, 6, true);

  AcX = Wire.read() << 8 | Wire.read();
  AcY = Wire.read() << 8 | Wire.read();
  AcZ = Wire.read() << 8 | Wire.read();

  if (AcX > 10000)
    Serial.println("Gesture: RIGHT");
  else if (AcX < -10000)
    Serial.println("Gesture: LEFT");
  else if (AcY > 10000)
    Serial.println("Gesture: UP");
  else if (AcY < -10000)
    Serial.println("Gesture: DOWN");
  else if (AcZ > 15000)
    Serial.println("Gesture: FORWARD");
  else if (AcZ < 5000)
    Serial.println("Gesture: BACKWARD");
  else
    Serial.println("Gesture: STILL");

  delay(500);
}
